var ktaneModuleCommandInterface={alphabet:{name:"Alphabet",alias:["alphabet"],help:"alphabet <letters>",script:(e,l,t,r)=>{function a(e,l){return e.filter(e=>-1==l.indexOf(e))}for(var s=0;s<r.length;s++)r[s]=r[s].length>1?ktaneNatoToLetter(r[s]):r[s];if(4===r.length)if(4===function(e){return[...new Set(e.split(""))].join("")}(r.join("")).length){var n="JQXZ|QEW|AC|ZNY|TJL|OKBV|DFW|YKQ|LXE|GS|VSI|PQJS|VCN|JR|IRNM|OP|QYDX|HDU|PKD|ARGF".toLowerCase().split("|"),i=[];for(s=0;s<n.length;s++){for(var o="",u=0;u<n[s].length&&a(r,o.split("")).includes(n[s][u]);u++)o+=n[s][u];i.push(o.length)}var h=[];for(s=0;s<n.length;s++)i[s]==Math.max(...i)&&h.push(n[s]);var d=(h=h.sort())[0].split(""),p=a(r,d).sort();for(s=0;s<p.length;s++)d.push(p[s]);ktaneSpeak(`Press letters ${d.map(e=>ktaneLetterToNato(e)).join(" ")}`)}else ktaneSpeak("I need four distinct letters");else ktaneSpeak("I need four letters")}},colorfulmadness:{name:"Colorful Madness",alias:["colorful madness"],help:"colorful madness <has red-yellow> <4x4 checkerboard amount> <has square-on-square>",script:(e,l,t,r)=>{if(3==r.length)if(r[1]=replaceWords(r[1],["sierra","to","for"],["0","2","4"]),r[2]=replaceWords(r[2],["know"],["no"]),r[1].length>1&&(r[1]=ktaneWordToNumber(r[1]),null===r[1]||isNaN(r[1])))ktaneSpeak("Invalid amount");else{for(var a="yes"==r[0],s=parseInt(r[1]),n="yes"==r[2],i=e.serialnumber.whole.split("").filter((e,l)=>l%2==0),o=0;o<i.length;o++)isNaN(i[o])?i[o]=i[o].charCodeAt(0)-65:i[o]=parseInt(i[o]);for(a&&(i=i.map(l=>l+e.batteries.all)),s>0&&(i=i.map(l=>Math.abs(l-Math.abs(s-e.ports.all)))),n&&(i=i.map(l=>l*(e.batteries.holders+e.portplates.length))),i=i.map(e=>e%10);i[0]==i[1]||i[0]==i[2];)i[0]=(i[0]+1)%10;for(;i[1]==i[0]||i[1]==i[2];)i[1]=(i[1]+9)%10;ktaneSpeak(`Press buttons ${i.map(e=>e+1).join(", ")}`)}else ktaneSpeak("Not enough information")}},complicatedwires:{name:"Complicated Wires",vanilla:!0,alias:["complicated wires"],help:"complicated wires <colour>",script:(e,l,t,r)=>{for(var a=[],s=0;s<r.length;s++){if(!["blue","red"].includes(r[s]))return void ktaneSpeak("Invalid colour");a.push(r[s]),["star"].includes(r[s])&&!0,["led"].includes(r[s])&&!0}var n=e=>a.filter(l=>l==e).length,i=(e,l)=>e.split("/").includes(l);if(a.length<=2&&a.length>=1&&n("blue")<=1&&n("red")<=1&&n("white")<=1){var o=1==n("blue")?"1":(n("red"),"1"),u=null;u=i("0000/0001/0101",o)?"cut":i("0011/0110/0111",o)?e.batteries.d+e.batteries.aa>2?"cut":"don't cut":i("1010/1011/1101",o)?e.ports.parallel>=1?"cut":"don't cut":i("0100/1000/1100/1110",o)&&e.serialnumber.numbers[e.serialnumber.numbers.length-1]%2==0?"cut":"don't cut",ktaneSpeak(`${u} the wire`)}else ktaneSpeak("Invalid wire colours")}},keypad:{name:"Keypad",vanilla:!0,alias:["keypad"],help:"keypad <position numbers 1=TL 2=TR 3=BL 4=BR>",script:(e,l,t,r)=>{var a="alpha tango/lightning/copyright/pumpkin/melting three/forward charlie/alien three/black star/railway tracks/alpha echo/november/omega/tennis racket/lambda/kitty/hotel/backward charlie/euro/cursive alpha/empty star/question mark/double kilo/six/paragraph/tango bravo/smiley/candle stick".split("/"),s="13-at/12-squigglyn/1-copyright/8-pumpkin/15-meltedthree/22-rightc/19-dragon/2-filledstar/27-tracks/14-ae/18-nwithhat/6-omega/28-balloon/30-upsidedowny/7-squidknife/9-hookn/23-leftc/16-euro/26-cursive/3-hollowstar/20-questionmark/5-doublek/11-six/21-paragraph/31-bt/4-smileyface/24-pitchfork".split("/"),n=[[12,0,13,1,14,15,16],[17,12,16,18,19,15,20],[2,3,18,21,4,13,19],[22,23,24,14,21,20,25],[26,25,24,5,23,6,7],[22,17,8,9,26,10,11]];if("list"==r[0]){for(var i="",o=0;o<a.length;o++)i+=`<div style="height:64px;width:240px;"><img src="${t}${s[o]}.png" style="vertical-align:middle;"> = ${a[o]}</div>`;l.html('<div style="display:flex;flex-wrap:wrap;">'+i+"</div>")}else{for(var u=r.join(" "),h=0,d=[],o=0;o<a.length;o++)u.includes(a[o])?(d.push(o),h++):"question mark"==a[o]&&u.includes("?")&&(d.push(o),h++);if(4==h){if(!function(e){return[...new Set(e)].length==e.length}(d))return void ktaneSpeak("The symbols must be unique");var p=-1;for(o=0;o<n.length;o++){var c=n[o].includes(d[0]),k=n[o].includes(d[1]),b=n[o].includes(d[2]),f=n[o].includes(d[3]);if(c&&k&&b&&f){p=o;break}}if(-1==p)return void ktaneSpeak("No column found");var m=[];for(o=0;o<n[p].length;o++)n[p][o]==d[0]&&m.push(d[0]),n[p][o]==d[1]&&m.push(d[1]),n[p][o]==d[2]&&m.push(d[2]),n[p][o]==d[3]&&m.push(d[3]);var g=m.map(e=>a[e]).join(" then ");ktaneSpeak(`Press the button in this order: ${g}`)}else ktaneSpeak("No the right amount of symbols")}}},simonsays:{name:"Simon Says",vanilla:!0,alias:["simon","simon says"],help:"simon says <list of colours>",script:(e,l,t,r)=>{for(var a=[],s=0;s<r.length;s++){if(!["blue","red","green","yellow"].includes(r[s]))return void ktaneSpeak("Invalid colour");a.push(r[s])}var n=null;if(0==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?n={blue:"red",red:"blue",yellow:"green",green:"yellow"}:1==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?n={blue:"green",red:"yellow",yellow:"red",green:"blue"}:2==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?n={blue:"red",red:"green",yellow:"blue",green:"yellow"}:0!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)?1!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)?2!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)||(n={blue:"green",red:"yellow",yellow:"red",green:"blue"}):n={blue:"blue",red:"red",yellow:"green",green:"yellow"}:n={blue:"yellow",red:"blue",yellow:"red",green:"green"},null!==n){var i="Press ";for(s=0;s<a.length;s++)i+=n[a[s]]+" ";ktaneSpeak(i)}else ktaneSpeak("Too many strikes")}},thebutton:{name:"The Button",vanilla:!0,alias:["button"],help:"button <colour> <word>",script:(e,l,t,r)=>{if(2===r.length){for(var a="",s="",n=0;n<r.length;n++)["blue","red","white","yellow"].includes(r[n])&&(a=r[n]),["abort","detonate","hold","press"].includes(r[n])&&(s=r[n]);if(""!==a){if(r.includes("strip")){var i="one";return"blue"==a?i="four":"yellow"==a&&(i="five"),void ktaneSpeak(`Release on a ${i}`)}if(""!==s){var o="";o="blue"==a&&"abort"==s?"hold":e.batteries.total>1&&"detonate"==s?"press":"white"==a&&e.indicators.exists("car")?"hold":e.batteries.total>2&&e.indicators.isLit("frk")?"press":"yellow"==a?"hold":"red"==a&&"hold"==s?"press":"hold",ktaneSpeak(`${"hold"==o?"Hold":"Press"} the button`)}}}}},wires:{name:"Wires",vanilla:!0,alias:["wires","simple wires"],help:"wires <list of colours>",script:(e,l,t,r)=>{for(var a=[],s=0;s<r.length;s++){if(!["blue","white","yellow","red","black"].includes(r[s]))return void ktaneSpeak("Invalid colour");a.push(r[s])}if(a.length<3||a.length>6)ktaneSpeak("Invalid number of wires");else{var n=a[a.length-1],i=e=>a.filter(l=>l==e).length,o=e.serialnumber.numbers[e.serialnumber.numbers.length-1],u=null;3==a.length?u=a.includes("red")?"white"==n?"last":i("blue")>1?"last blue":"last":"second":4==a.length?u=i("red")>1&&o%2==1?"last red":"yellow"==n&&0==i("red")?"first":1==i("blue")?"first":i("yellow")>1?"last":"second":5==a.length?u="black"==n&&o%2==1?"fourth":1==i("red")&&i("yellow")>1?"first":0==i("black")?"second":"first":6==a.length&&(u=0==i("yellow")&&o%2==1?"third":1==i("yellow")&&i("white")>1?"fourth":i("red")?"last":"fourth"),null!=u?ktaneSpeak(`Cut the ${u} wire`):ktaneSpeak("Error following rules")}}},thisIsTheLastItemAndItIsNotActuallyNeededButIPutItHereAsAJoke:{name:"",alias:[],script:()=>{}}};