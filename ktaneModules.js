var ktaneModuleCommandInterface={alphabet:{name:"Alphabet",alias:["alphabet"],help:"alphabet <letters>",script:(e,l)=>{function t(e,l){return e.filter(e=>-1==l.indexOf(e))}for(var r=0;r<l.length;r++)l[r]=ktaneNatoToLetter(l[r]);if(4===l.length)if(4===function(e){return[...new Set(e.split(""))].join("")}(l.join("")).length){var s="JQXZ|QEW|AC|ZNY|TJL|OKBV|DFW|YKQ|LXE|GS|VSI|PQJS|VCN|JR|IRNM|OP|QYDX|HDU|PKD|ARGF".toLowerCase().split("|"),a=[];for(r=0;r<s.length;r++){for(var n="",i=0;i<s[r].length&&t(l,n.split("")).includes(s[r][i]);i++)n+=s[r][i];a.push(n.length)}var o=[];for(r=0;r<s.length;r++)a[r]==Math.max(...a)&&o.push(s[r]);var u=(o=o.sort())[0].split(""),d=t(l,u).sort();for(r=0;r<d.length;r++)u.push(d[r]);ktaneSpeak(`Press letters ${u.map(e=>ktaneLetterToNato(e)).join(" ")}.`)}else ktaneSpeak("I need four distinct letters.");else ktaneSpeak("I need four letters.")}},complicatedwires:{name:"Complicated Wires",vanilla:!0,alias:["complicated wires"],help:"complicated wires <colour>",script:(e,l)=>{for(var t=[],r=0;r<l.length;r++){if(!["blue","red"].includes(l[r]))return void ktaneSpeak("Invalid colour");t.push(l[r]),["star"].includes(l[r])&&!0,["led"].includes(l[r])&&!0}var s=e=>t.filter(l=>l==e).length,a=(e,l)=>e.split("/").includes(l);if(t.length<=2&&t.length>=1&&s("blue")<=1&&s("red")<=1&&s("white")<=1){var n=1==s("blue")?"1":(s("red"),"1"),i=null;i=a("0000/0001/0101",n)?"cut":a("0011/0110/0111",n)?e.batteries.d+e.batteries.aa>2?"cut":"don't cut":a("1010/1011/1101",n)?e.ports.parallel>=1?"cut":"don't cut":a("0100/1000/1100/1110",n)&&e.serialnumber.numbers[e.serialnumber.numbers.length-1]%2==0?"cut":"don't cut",ktaneSpeak(`${i} the wire`)}else ktaneSpeak("Invalid wire colours")}},simonsays:{name:"Simon Says",vanilla:!0,alias:["simon","simon says"],help:"simon says <list of colours>",script:(e,l)=>{for(var t=[],r=0;r<l.length;r++){if(!["blue","red","green","yellow"].includes(l[r]))return void ktaneSpeak("Invalid colour");t.push(l[r])}var s=null;if(0==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?s={blue:"red",red:"blue",yellow:"green",green:"yellow"}:1==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?s={blue:"green",red:"yellow",yellow:"red",green:"blue"}:2==e.strikes&&/^[aeiou]$/i.test(e.serialnumber.whole)?s={blue:"red",red:"green",yellow:"blue",green:"yellow"}:0!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)?1!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)?2!=e.strikes||/^[aeiou]$/i.test(e.serialnumber.whole)||(s={blue:"green",red:"yellow",yellow:"red",green:"blue"}):s={blue:"blue",red:"red",yellow:"green",green:"yellow"}:s={blue:"yellow",red:"blue",yellow:"red",green:"green"},null!==s){var a="Press ";for(r=0;r<t.length;r++)a+=s[t[r]]+" ";ktaneSpeak(a)}else ktaneSpeak("Too many strikes")}},thebutton:{name:"The Button",vanilla:!0,alias:["button"],help:"button <colour> <word>",script:(e,l)=>{if(2===l.length){for(var t="",r="",s=0;s<l.length;s++)["blue","red","white","yellow"].includes(l[s])&&(t=l[s]),["abort","detonate","hold","press"].includes(l[s])&&(r=l[s]);if(""!==t){if(l.includes("strip")){var a="one";return"blue"==t?a="four":"yellow"==t&&(a="five"),void ktaneSpeak(`Release on a ${a}`)}if(""!==r){var n="";n="blue"==t&&"abort"==r?"hold":e.batteries.total>1&&"detonate"==r?"press":"white"==t&&e.indicators.exists("car")?"hold":e.batteries.total>2&&e.indicators.isLit("frk")?"press":"yellow"==t?"hold":"red"==t&&"hold"==r?"press":"hold",ktaneSpeak(`${"hold"==n?"Hold":"Press"} the button`)}}}}},wires:{name:"Wires",vanilla:!0,alias:["wires","simple wires"],help:"wires <list of colours>",script:(e,l)=>{for(var t=[],r=0;r<l.length;r++){if(!["blue","white","yellow","red","black"].includes(l[r]))return void ktaneSpeak("Invalid colour");t.push(l[r])}if(t.length<3||t.length>6)ktaneSpeak("Invalid number of wires");else{var s=t[t.length-1],a=e=>t.filter(l=>l==e).length,n=e.serialnumber.numbers[e.serialnumber.numbers.length-1],i=null;3==t.length?i=t.includes("red")?"white"==s?"last":a("blue")>1?"last blue":"last":"second":4==t.length?i=a("red")>1&&n%2==1?"last red":"yellow"==s&&0==a("red")?"first":1==a("blue")?"first":a("yellow")>1?"last":"second":5==t.length?i="black"==s&&n%2==1?"fourth":1==a("red")&&a("yellow")>1?"first":0==a("black")?"second":"first":6==t.length&&(i=0==a("yellow")&&n%2==1?"third":1==a("yellow")&&a("white")>1?"fourth":a("red")?"last":"fourth"),null!=i?ktaneSpeak(`Cut the ${i} wire`):ktaneSpeak("Error following rules")}}},thisIsTheLastItemAndItIsNotActuallyNeededButIPutItHereAsAJoke:{name:"",alias:[],script:()=>{}}};